# Chapter08 리스트 - 03 배열 커서로 연결리스트 만들기
- 이번에는 각 노드를 배열 안의 요소에 저장하고 그 요소를 이용해 연결리스트를 구현하는 방법을 알아보겠다.

<br>

## 배열 커서로 연결 리스트 만들기
- ch08-2에서 살펴본 포인터를 이용한 연결리스트는 '노드의 삽입, 삭제를 데이터 이동 없이 수행한다.'라는 장점이 있지만 삽입, 삭제를 수행할 때마다 노드용 객체를 위한 메모리 영역을 확보하고 해제하는 과정이 필요하다.
  - 메모리 영역을 확보라고 해제하는 데 필요한 비용은 결코 무시할 수 없다.
- 프로그램 실행 중에 데이터 수가 크게 바꾸지 않는 경우, 또는 데이터 수의 최댓값을 미리 알 수 있는 경우, 배열을 사용해 연결 리스트를 효율적으로 운용할 수 있다.
- 여기서 다음 노드를 가리키는 뒤쪽 포인터는 다음 노드에 대한 포인터가 아니라 다음 노드가 들어있는 배열 요소의 인덱스
  - 이 인덱스 포인터를 커서(cursor)라고 함
  - 이와 같은 방법을 사용하면 노드를 삽입하거나 삭제할 때 요소를 옮길 필요가 없다.

<br>

---

<br>

## 배열이 비어 있는 요소 처리하기
- LinkedList 클래스와 ArrayLinkedList 클래스의 각 메서드는 일대일로 대응한다.
  - 두 프로그램 사이에서 가장 다른 부분인 '삭제한 노드 관리'에 대해 좀 더 살펴보겠다.
- 배열 안에서의 물리적 위치 관계와 연결리스트의 논리적 순서 관계가 같은 것은 아님
  - 즉, 리스트의 n번째 노드가 배열 인덱스의 n인 요소에 들어 있는 것은 아니다.
  - 앞으로 리스트 순서와 구별하기 위해 n인 요소에 들어 있는 노드를 "n번째 레코드"라고 하겠다.
- 삭제를 여러 번 반복하면 배열 안을 빈 레코드 투성이가 됨
  - 삭제할 레코드가 하나라면 그 인덱스를 어떤 변수에 넣어두고 관리함으로써 그 레코드를 쉽게 재사용할 수 있다.
  - 그러나 실제로는 여러 레코드를 삭제하는 경우가 많으므로 그렇게 단순하게 해결되지는 않는다.

<br>

---

<br>

## 프리 리스트 살펴보기
- 이 프로그램에서는 삭제한 여러 레코드를 관리하기 위해 그 순서를 넣어두는 연결리스트인 프리 리스트(free list)를 사용
  - 프리 리스트는 할당되지 않은 메모리의 영역을 관리하는 연결리스트, 이 프로그램에서는 '해제목록'으로 사용
- 데이터 순서를 나타내는 연결 리스트와 프리 리스트가 결합되어 있으므로 노드 클래스 Node<E>와 연결리스트 클래스 ArrayLinkedList<E>에 포인트 버전에는 없는 필드가 추가되어 있다.

<br>

### 노드 클래스 Node<E>에 추가된 필드
> - dnext ... 프리 리스트에서 뒤쪽 포인터(프리 리스트의 다음 노드를 가리키는 커서)입니다.

<br>

### 연결 리스트 클래스 ArrayLinkedList<E>에 추가된 필드
> - deleted ... 프리 리스트의 머리 노드를 가리키는 커서
> - maxx ... 배열에서 가장 꼬리 쪽에 들어 있는 노드의 레코드 번호
- 삭제한 레코드를 프리 리스트에 등록하는 메서드는 deleteIndex이고, 노드를 삽입할 때 레코드 번호를 가져오는 메서드는 getInsertIndex
- 이미 삭제한 레코드가 있으면 프리 리스트에 등록된 레코드 중에서 삽입할 레코드를 가져옴
  - 만약 삭제한 레코드가 없어 프리리스트가 비어 있다면 max를 증가시켜 배열 꼬리 쪽의 아직 사용하지 않은 새 레코드를 사용

<br>

---

<br>

정리한 내용에 대한 저작권은 "[do it! 자료구조와 함께 배우는 알고리즘 입문 자바편 개정](https://www.aladin.co.kr/search/wsearchresult.aspx?SearchTarget=All&SearchWord=Do+it%21+%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80+%ED%95%A8%EA%BB%98+%EB%B0%B0%EC%9A%B0%EB%8A%94+%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98+%EC%9E%85%EB%AC%B8+%3A+%EC%9E%90%EB%B0%94+%ED%8E%B8)"에 있습니다.