# Chapter07 문자열 검색 - 03 보이어·무어법
- 보이어·무어법은 브루트-포스법을 개선한 KMP법보다 효율이 더 좋기 때문에 실제 문자열 검색 프로그램에서 널리 사용하는 알고리즘

<br>

## 보이어·무어법 알아보기
- 보이어(R.S.Boyer)과 무어(J.S.Moore)가 만든 보이어·무어법은 KMP법보다 이론과 실제 모두에서 더 우수한 알고리즘
- 이 알고리즘은 패턴의 마지막 문자부터 앞쪽으로 검사를 진행하면서 일치하지 않는 문자가 있으면 미리 준비한 표에 따라 패턴을 옮길 크기를 정한다.
- 텍스트 "ABCXDEZCABACABAC"에서 패턴 "ABAC"를 검색하는 경우를 예로 들어 이 알고리즘을 살펴보겠다.
  - 텍스트와 패턴의 첫번째 문자를 위 아래로 겹치고 패턴의 마지막 문자 'C'를 검사한다.
  - 텍스트의 'X'는 패턴에 아예 없으므로 패턴을 1~3칸 옮긴다 해도 문자열 "ABCX"와 패턴이 일치하는 경우는 없다.
  - 이처럼 비교 범위의 텍스트에 패턴에 없는 문자가 있다면 그 위치까지 건너뛸 수 있다.
  - 패턴의 길이를 n이라 하자. 텍스트의 패턴에 들어있지 않은 문자를 만날 경우 패턴 자체를 n만큼 옮기는 것이 아니라 현재 검사하고 있는 텍스트 안의 문자 위치로부터 패턴이 n만큼 멀어지도록 패턴을 옮기는 것이다.
  - 패턴의 마지막 위치부터 순서대로 문자를 비교하면 모두 일치하므로 검색 성공이다.
- 보이어·무어 알고리즘에서도 각각의 문자를 만났을 때 패턴을 옮길 크기를 알려주는 표(건너뛰기 표)를 미리 만들어 두어야 한다.
- 패턴 문자열의 길이가 n일 때 옮길 크기는 다음과 같은 방법으로 결정한다.
  ```
  패턴에 들어 있지 않은 문자를 만난 경우
  1. 패턴을 옮길 크기는 n이다.
     ex) 'x'는 패턴에 들어있지 않으므로 4만큼 옮긴다.
  
  패턴에 들어 있는 문자를 만난 경우
  1. 해당 문자의 마지막 인덱스가 k이면 패턴을 옮길 크기는 n-k-1이다.
     ex) 'A' 패턴의 두 곳에 들어 있으므로 마지막 인덱스를 선택하여 패턴을 1만큼(4-2-1) 옮긴다.
  2. 패턴의 마지막 문자가 패턴 안에 중복해서 들어 있지 않은 경우("ABAC"의 'C'는 패턴 안에 1개만 들어 있다) 패턴을 옮길 크기를 n으로 한다.
     텍스트에 이런 문자(여기서는 "ABAC"의 'C')를 만난 경우 이동하지 않고 바로 앞 문자를 비교한다.
     이동할 필요가 없으므로 사용하지 않지만 편의상 n이라고 하는 것이다.
  ```
- BMmatch
  - 패턴에 있을 수 있는 모든 문자의 옮길 크기를 계산하고 저장해야 하므로 건너뛰기 표의 요솟수는 Character.MAX_VALUE + 1(Character.MAX_VALUE는 char형으로 나타낼 수 있는 문자 수)

<br>

### 보충수업 7-2 문자열 검색 알고리즘의 시간 복잡도와 실용성
- 텍스트의 문자 수가 n이고 패턴의 문자 수가 n일 때, 이 장에서 학습한 3가지 문자열 검색 알고리즘의 시간 복잡도와 실용성을 살펴보겠다.
- 브루트-포스법
  - 이 알고리즘의 시간복잡도는 O(mn)이지만, 일부러 만든 패턴이 아닌 한 실질적인 시간 복잡도는 O(n)이 되는 것으로 알려져 있다.
  - 단순한 알고리즘이지만 의외로 속도가 빠름
- KMP법
  - 이 알고리즘의 시간 복잡도는 최악의 경우에도 O(n)으로 매우 빠름
  - KMP법은 검색하는 과정에서 선탣한 요소를 다시 앞쪽으로 되돌릴 필요가 없으므로 파일에서 순서대로 읽어 들이면서 검색하는 경우에 알맞다.
  - 반면 처리하기 복잡하다는 점, 패턴 안에 반복하는 요소가 없으면 효율이 떨어진다는 단점이 있다.
- 보이어·무어법
  - 이 알고리즘의 시간 복잡도는 최악의 경우 O(n), 평균적으로 O(n/m)으로 매우 빠름
  - 다만 원래 알고리즘인 2개의 배열을 사용하는 방법은 배열을 작성할 때 KMP법과 마찬가지로 처리하기 복잡하므로 효과가 상쇄됨
  - 간략한 보이어·무어 법을 사용해도 충분히 빠르게 검색할 수 있다.
- 실제 프로그램을 작성할 때는 기본적으로 표준 라이브러리인 String.indexOf 메서드를 사용
- 표준 라이브러리를 사용하지 않을 경우 보통 간략한 보이어·무어법(또는 그것을 개선한 것)을 사용하고 경우에 따라 브루트-포스법을 사용

<br>

---

<br>

정리한 내용에 대한 저작권은 "[do it! 자료구조와 함께 배우는 알고리즘 입문 자바편 개정](https://www.aladin.co.kr/search/wsearchresult.aspx?SearchTarget=All&SearchWord=Do+it%21+%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80+%ED%95%A8%EA%BB%98+%EB%B0%B0%EC%9A%B0%EB%8A%94+%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98+%EC%9E%85%EB%AC%B8+%3A+%EC%9E%90%EB%B0%94+%ED%8E%B8)"에 있습니다.