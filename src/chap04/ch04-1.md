# Chapter04 스택과 큐 - 01 스택이란?

## 스택 알아보기
- 스택(stack)은 데이터를 일시적으로 쌓아 놓는 자료구조로, 데이터의 입력과 출력 순서는 후입선출(LIFO : Last In First Out)
- 즉, 가장 나중에 넣은 데이터를 가장 먼저 꺼냄
- 스택에 데이터를 넣는 작업을 푸시(push)라 하고, 스택에서 데이터를 꺼내는 작업을 팝(pop)라 함
- 푸시와 팝이 이루어지는 쪽을 꼭대기(top)이라고 하고, 그 반대쪽인 스택의 가장 아랫부분을 바닥(bottom)이라고 함
- 자바 프로그램에서 메세지를 호출하고 실행할 때 프로그램 내부에서 스택을 사용
  ```java
  void x() { ... }
  void y() { ... }
  void z() {
    x();
    y();
  }
  void main() {
    z();
  }
  ```
  1) main 메서드가 호출되어 실행을 시작(main push)
  2) z 메서드를 호출(z push)
  3) x 메서드를 호출(x push)
  4) x 메서드가 실행을 종료하고 z 메서드로 돌아옴(x pop)
  5) y 메서드를 호출(y push)
  6) y 메서드가 실행을 종료하고 z 메서드로 돌아옴(y pop)
  7) z 메서드가 실행을 종료하고 main 메서드로 돌아옴(z pop)
  8) main 메서드가 실행을 종료(main pop)

<br>

## 스택 만들기
- IntStack class
  - 기본 구조를 익히기 위해 스택을 생성할 때 용량(스택에 쌓을 수 있는 최대 데이터 수)를 결정하는 고정 길이 스택을 만들 것이다.
  - 여기서 스택을 저장하는 값은 int 형

<br>

### 스택용 배열 stk
- 푸시된 데이터를 저장하는 스택용 배열
- 인덱스 0인 요소가 스택의 바닥, 가장 먼저 푸시된 데이터를 저장하는 곳은 stk[0]

<br>

### 스택 용량 capacity
- 스택의 용량(스택에 쌓을 수 있는 최대 데이터 수)을 나타내는 int형 필드

<br>

### 스택 포인터 ptr
- 스택에 쌓여 있는 데이터 수를 나타내는 필드, 이 값을 스택 포인터(stack pointer)라고 함
- 스택이 비어있으면 ptr 값은 0이 되고, 가득 차 있으면 capacity 값과 같다.
- 가장 나중에 푸쉬된 데이터를 저장하는 요소의 인덱스에 1을 더한 값과 같다.
  - 스택에 데이터를 푸쉬할 때 ptr을 1 증가시키고, 스택에서 데이터를 팝할 때 ptr을 1 감소시킨다.

<br>

### 생성자 IntStack
- 생성자는 stack용 배열 본체를 생성하는 등 준비작업을 한다.
- 생성할 때 스택은 비어 있으므로(데이터가 하나도 쌓여있지 않은 상태) 스택 포인터 ptr 값은 0으로 함
- 매개변수 maxlen으로 전달받은 값을 스택 용량을 나타내는 capacity에 대입하여 요솟수가 capacity인 배열 본체를 생성
- 스택용 배열 본체의 개별 요소에 접근하는 인덱스식은 바닥부터 stk[0], ..., stk[capacity - 1]이 됨
- 배열 본체 생성에 실패할 경우(OutOfMemoryError 발생할 때) capacity 값을 0으로 함
  - 다른 메서드가 존재하지 않은 배열 stk에 접근하려는 것을 막을 수 있다.

<br>

### 푸시 메서드 push
- 스택에 데이터를 푸시하는 메서드
- 스택이 가득차서 푸시할 수 없는 경우 예외 OverflowIntStackException을 내보냄
- 예외처리를 빼면 실질적으로 1행만으로 된 메서드
- 전달받은 데이터 x를 배열 요소 stk[ptr]에 저장하고 스택 포인터를 1 증가
- 메서드 반환값은 푸시한 값
  - return 문이 반환하는 것은 x를 저장한 후의 stk[ptr] 값
  - 대입식을 평가하면 대입이 끝난 후에 왼쪽 피연산자의 형(Type)과 값을 얻기 때문

<br>

### 팝 메서드 pop
- 스택의 꼭대기에 있는 데이터를 pop(제거)하고 그 값을 반환하는 메서드
- 스택이 비어있어 팝을 할 수 없는 경우 예외 EmptyIntStackException을 내보냄
- 먼저 스택 포인터 ptr 값을 1 감소시키고, 그때 ptr에 저장되어 있는 값을 반환

<br>

### 피크 메서드 peek
- 스택의 꼭대기에 있는 데이터를 '들여다보는' 메서드
- 스택이 비어 있으면 예외 EmptyIntStackException을 내보냄
- 스택이 비어있지 않으면 꼭대기에 있는 요소 stk[ptr - 1]의 값을 반환
  - 이때 데이터를 넣거나 빼지 않으므로 스택 포인터는 변화시키지 않는다.
- 메서드 push, pop, peek에서는 스택이 가득 찼는지 또는 비어 있는지를 메서드 첫머리에서 판단
  - 스택이 가득찼는지 또는 비어있는지를 판단할 때 등가 연산자 ==를 사용하여 다음과 같이 수행할 수 있음
  ```java
  if(ptr == capacity) // 스택이 가득 찼는가?
  if(ptr == 0) // 스택이 비어 있는가?
  ```
  - 스택 포인터 ptr 값은 반드시 0 이상 capacity 이하기 되기 때문에 별 문제 없이 보이지만 프로그램 오류 등으로 ptr 값이 0보다 작거나 capacity 보다 클 수 있다.
  - 그러므로 부등호를 붙여 판단하면 스택 본체 배열의 범위를 벗어나 접근하는 것을 방지할 수 있음, 이런 작은 노력이 프로그램의 안정성을 향상시킴

<br>

### 스택의 모든 요소를 삭제하는 메서드 clear
- 스택에 쌓여있는 모든 데이터를 한번에 삭제하는 메서드
- 스택에서 푸시하고 팝하는 모든 작업은 스택 포인터를 바탕으로 이루어짐
  - 스택의 배열 요솟값을 변경할 필요가 없다.
  - 모든 요소를 삭제하는 작업은 스택 포인터 ptr 값을 0으로 하면 끝

<br>

### 검색 메서드 indexOf
- 스택 본체의 배열 stk에 x와 같은 값의 데이터가 포함되어 있는지, 포함되어 있다면 배열의 어디에 들어 있는지를 조사하는 메서드
- 검색 꼭대기 쪽부터 바닥 쪽으로 선형 검색을 수행
  - 즉, 배열 인덱스가 큰 쪽브타 작은 쪽으로 스캔
  - 꼭대기 쪽부터 스캔하는 이유는 '먼저 팝이 되는 데이터'를 찾기 위해서
- 검색에 성공하면 찾아낸 요소의 인덱스를 반환하고, 실패하면 -1을 반환

<br>

### 용량을 확인하는 메서드 getCapacity
- 스택의 용량을 반환하는 메서드
- capacity 값을 그대로 반환

<br>

### 데이터 개수를 확인하는 메서드 size
- 현재 스택에 쌓여 있는 데이터 개수(ptr 값)를 반환하는 메서드

<br>

### 스택이 비어있는지 검사하는 메서드 isEmpty
- 스택이 비어 있는지 검사하는 메서드
- 스택이 비어 있으면 true를, 그렇지 않으면 false를 반환

<br>

### 스택이 가득 찼는지 검사하는 메서드 isFull
- 스택이 가득 찼는지 검사하는 메서드
- 스택이 가득 찼으면 true를, 그렇지 않으면 false를 반환

<br>

### 스택 안에 있는 모든 데이터를 출력하는 메서드 dump
- 스택에 쌓여 있는 모든 데이터를 바닥부터 꼭대기 순으로 출력하는 메서드
- 스택이 비어 있으면 '스택이 비어있습니다.'라고 출력

<br>

---

<br>

정리한 내용에 대한 저작권은 "[do it! 자료구조와 함께 배우는 알고리즘 입문 자바편 개정](https://www.aladin.co.kr/search/wsearchresult.aspx?SearchTarget=All&SearchWord=Do+it%21+%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80+%ED%95%A8%EA%BB%98+%EB%B0%B0%EC%9A%B0%EB%8A%94+%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98+%EC%9E%85%EB%AC%B8+%3A+%EC%9E%90%EB%B0%94+%ED%8E%B8)"에 있습니다.
