# Chapter04 스택과 큐 - 02 큐란?
- 큐는 스택과 마찬가지로 데이터를 일시적으로 쌓아 놓은 자료구조
- 가장 먼저 넣은 데이터를 가장 먼저 꺼내는 선입선출(FIFO : First In First Out)인 점이 스택과 다르다.

<br>

## 큐 알아보기
- 큐에 데이터를 넣는 작업을 인큐(en-queue)라 하고, 데이터를 꺼내는 작업을 디큐(de-queue)라고 함
- 데이터가 나오는 쪽을 프런트(front, 맨 앞), 데이터를 넣는 쪽을 리어(rear, 맨 뒤)
  - 디큐(dequeue, 꺼내기)와 덱(deque, 양방향 대기열)을 혼동하지 않도록 주의해야 함
 
<br>

---

<br>

## 배열로 큐 만들기
- 스택과 마찬가지로 큐 또한 배열을 사용하여 구현할 수 있음
- 배열의 프런트부터 4개[19, 22, 37, 53]의 데이터가 들어가 있는 모습
  - 배열 이름을 que라 할 경우 que[0] ~ que[3]에 데이터가 저장됨
    - 인덱스가 0인 요소를 큐의 프런트라고 함
  - 24를 인큐
    - 리어의 데이터가 저장된 que[3]의 다음 요소인 que[4]에 24를 저장
    - 이 처리의 복잡도는 O(1)이고 적은 비용으로 구현할 수 있음
  - 19를 디큐
    - que[0]에 저장된 19를 꺼낸 다음 두 번째 이후의 요소를 모두 앞으로 한 칸씩 옮김
    - 이 처리의 복잡도는 O(n)이며, 데이터를 꺼낼 때 마다 이렇게 처리하면 효율이 매우 떨어짐

<br>

---

<br>

## 링 버퍼로 큐 만들기
- 배열 구조를 앞쪽으로 옮기지 않는 큐를 구현하기 위해 사용하는 자료구조가 링 버퍼(ring buffer)
- 링 버퍼는 배열의 맨 뒤가 맨 앞과 연결되었다고 보는 자료구조
- 논리적으로 어떤 요소가 맨 앞의 요소이고 어떤 요소가 맨 뒤의 요소인지 식별하기 위한 변수가 프론트와 리어
  ```
  - 프런트(front) : 논리적인 맨 앞 요소의 인덱스
  - 리어(rear) : 논리적인 맨 뒤요소 하나 뒤의 인덱스(다음 요소를 인큐할 위치의 인덱스)
  ```
  - 프런트와 리어는 논리적인 데이터 순서를 말함
  - 배열 요소의 물리적인 나열 순서가 아님
- 7개의 데이터 [35, 56, 24, 68, 95, 73, 19]가 차례로 que[7], ... que[11], que[0], que[1]에 저장, 프런트 값은 7이고, 리어 값은 2
  - 82를 인큐
    - que[2](리어가 가리키고 있는 위치)에 82를 저장한 다음 리어값을 1만큼 증가
  - 35를 디큐
    - 프런트 요소 que[front](que[7])의 값 35를 꺼내고 프런트 값을 1만큼 증가
- 이렇게 큐를 구현하면 프런트값과 리어값을 업데이트하면서 인큐와 디큐를 수행하기 때문에 요소의 이동 문제를 해결할 수 있다.
  - 물론 처리의 복잡도는 O(1)

<br>

### 큐로 사용할 배열 que
- 인큐하는 데이터를 저장하기 위한 큐 본체용 배열

<br>

### 큐의 최대 용량 capacity
- 큐의 최대 용량을 저장하는 필드로, 이 값은 배열 que에 저장할 수 있는 최대 요솟수와 같다.

<br>

### 프런트 front
- 인큐 데이터 가운데 맨 앞 요소의 인덱스를 저장하는 필드

<br>

### 리어 rear
- 인큐한 데이터 가운데 맨 뒤에 넣은 요소 하나 뒤 인덱스를 저장하는 필드

<br>

### 현재 데이터 개수 num
- 큐에 쌓여 있는 데이터 개수를 나타내는 int형 필트
- front 값과 rear 값이 같을 때 큐가 비어 있는지, 가득 찼는지 구별할 수 없는 상황을 피하기 위해 이 변수가 필요
- 큐가 비었을 때 num은 0이고, 가득 찼을 때 num값과 capacity 값은 같다.

<br>

### 생성자 IntQueue
- 생성자는 큐 본체용 배열을 생성하는 등의 준비 작업을 수행
- 생성 시 큐는 비어 있기 때문에 num, front, rear 값을 모두 0으로 한다.
- 또 매개변수 maxlen로 전달받은 '큐의 용량을 필드 capacity'에 복사하고, 요솟수가 capacity인 배열 que의 본체를 생성

<br>

### 인큐 메서드 enque
- 큐에 데이터를 인큐한 값을 그대로 반환하는 메서드
- 큐가 가득 차서 인큐할 수 없으면 (num >= capacity가 성립하면) 예외 OverflowIntQueueException을 내보냄

<br>

### 디큐 메서드 deque
- 큐에서 데이터를 디큐하고 그 값을 반환하는 메서드
- 큐가 비어 있어 디큐할 수 없으면, 예외 EmptyIntQueueException을 내보냄

<br>

### 피크 메서드 peek
- 맨 앞의 데이터(다음 디큐할 때 꺼낼 데이터)를 '들여다보는' 메서드
- que[front] 값을 조사만 하고 데이터를 꺼내지는 않으므로 front, rear, num의 값은 변화하지 않는다.
- 큐가 비어있으면 EmptyIntQueueException을 내보냄

<br>

### 모든 데이터를 삭제하는 메서드
- 현재 큐의 모든 데이터를 삭제하는 메서드
- 인큐와 디큐는 num, front, rear의 값을 바탕으로 수행되므로 이 값들을 0dmfh qkRna
- 실제 큐에 들어 있는 배열 요솟값을 바꿀 필요가 없음

<br>

### 검색 메서드 indexOf
- 큐 본체용 배열에서 x와 값이 같은 데이터가 저장되어 있는 위치를 조사하는 메서드
- 프런트에서 리어쪽으로 선형 검색을 수행
- 스탬은 배열의 물리적인 첫 요소가 아니라큐의 논리작인 첫 요소, 즉 프런트에서 시작
- 스캔할 때 주목하는 인덱스 idx의 계산식이 (i + front) % capacity로 복잡
- 검색에 성공하면 찾은 요소의 인덱스를 반환하고, 실패하면 -1을 반환

<br>

### 최대 용량을 확인하는 메서드 getCapacity
- 최대 용량을 반환하는 메서드(필드 capacity 값을 그대로 반환)

<br>

## 데이터 개수를 확인하는 메서드 size
- 현재 큐에 들어있는 데이터 개수를 반환하는 메서드(필드 num 값을 그대로 반환)

<br>

### 큐가 비어있는지 판단하는 메서드 isEmpty
- 비어 있으면 true를, 그렇지 않으면 false를 반환

<br>

### 큐가 가득 찼는지 판단하는 메서드 isFull
- 가득 찼으면 true를, 그렇지 않으면 false를 반환

<br>

### 모든 데이터를 출력하는 메서드 dump
- 큐에 들어있는 모든(num 개) 데이터를 프런트에서 리어 순으로 출력하는 메세지
- 큐가 비어 있으면 '큐가 비어있습니다'라고 출력

<br>

### 보충수업 4-1 링 버퍼의 활용
- 링 버퍼는 '오래된 데이터를 버리는 용도'로 사용할 수 있음
- 요솟수가 n인 배열에 계속해서 데이터가 입력될 때 가장 최근에 들어온 데이터 n개만 저장하고 오래된 데이터는 버리는 용도로 사용할 수 있다.
  - 배열 a의 요솟수는 10, 정수 입력(인큐)은 무한히 할 수 있지만 배열에 저장되는 데이터는 가장 최근에 입력한 10개의 데이터뿐
- 입력한 값을 저장하는 위치의 인덱스를 'cnt++ % N'으로 구함
  - 이렇게 구현한 프로그램에 임의의 값을 입력하면 입력한 값이 링 버퍼(배열)에 순환하며 저장된다는 것을 알 수 있음 
