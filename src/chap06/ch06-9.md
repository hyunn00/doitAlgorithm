# Chapter06 정렬 알고리즘 - 09 도수 정렬
- 도수 정렬은 요소의 대소 관계를 판단하지 않고 빠르게 정렬할 수 있는 알고리즘
  - 도수 정렬(counting sort)에서 도수(counting)는 분포 도수(distribution counting)를 말함

<br>

## 도수 정렬 알아보기
- 지금까지 다른 정렬 알고리즘은 두 요소의 키 값을 비교해야 했지만, 도수 정렬은 요소를 비교할 필요가 없음
- 10점 만점의 테스트에서 학생 9명의 점수를 예로 들어 도수 정렬 알고리즘을 살펴보겠다.
- 도수 정렬 알고리즘은 도수분포표 만들기, 누적도수분포표 만들기, 목표 배열 만들기, 배열 복사하기 등 4단계로 이루어짐
- 아래에서 정렬하는 배열 a는 요솟수는 n, 점수의 최댓값은 max

<br>

### 1단계 : 도수분포표 만들기
- 먼저 배열 a를 바탕으로 '각 점수에 해당하는 학생이 몇명인지'를 나타내는 도수 분포표를 작성
- 도수 분포표를 저장하기 위해 배열 f를 사용
  - 먼저 배열 f의 모든 요솟값을 0으로 초기화
  - 그런 다음 배열 a를 처음부터 스캔하면서 도수분포표를 만듦
  ```java
  for(int i=0; i<n; i++)
    f[a[i]]++;
  ```
  - 도수 분포표 : 각각의 값을 갖는 요소가 몇 개 있는가?

<br>

### 2단계 : 누적도수분포표 만들기
- 이제 '0점부터 n점까지 몇명의 학생이 있는지' 누적한 값을 나타내는 누적 도수 분포표를 만듦
  ```java
  for(int i=1; i<=max; i++)
    f[i] += f[i-1];
  ```
  - 누적도수분포표 : 각각의 값 이하의 요소가 모두 몇 개 있는가?

<br>

### 3단계 : 목표 배열 만들기
- 각각의 점수를 받은 학생이 몇 번째에 위치하는지 알 수 있으므로 이 시점에서 정렬은 거의 마쳤다고 할 수 있다.
- 남은 작업은 배열 a가 요솟값과 누적도수분포표 f를 대조하여 정렬을 마친 배열을 만드는 일이다.
- 이 작업은 배열 a와 같은 요솟수를 갖는 작업용 배열 b가 필요
- 이제 배열 a의 요소를 마지막 요소부터 처음 요소까지 스캔하면서 배열 f와 대조하는 작업 수행
  ```java
  for(int i=n-1; i>=0; i--)
    b[--f[a[i]]] = a[i];
  ```
  - 중복되는 값을 저장하기 위해 목표 배열에 넣을 때 f[a[i]]의 값을 1 감소시켜 업데이트 한 것
  - 이렇게 미리 값을 감소시켰기 때문에 중복되는 값을 목표 배열에 저장할 수 있다.

<br>

### 4단계 : 배열 복사하기
- 정렬은 끝났지만 정렬 결과를 저장한 곳은 작업 배열(b)
- 배열 a는 정렬하기 전 상태이므로 배열 b 값을 배열 a로 복사해야 한다.
  ```java
  for(int i=0; i<n; i++)
    a[i] = b[i];
  ```
- 도수 정렬은 if 문 없이 for문만으로 정렬하는 매우 아름다운 알고리즘

- CountingSort
  - countingSort 메서드는 배열의 모든 요솟값이 0 이상 max 이하 임을 전제로 배열 a에 대해 도수 정렬을 수행
  - countingSort 메서드는 정렬을 위한 작업용 배열 f와 b를 만듦
    - 배열 f는 도수분포값을 넣은 뒤 이를 누적도수로 업데이트하여 저장하고, 배열 b는 정렬한 배열을 임시로 저장
    - 배열은 생성할 때 모든 요소를 초기값 0으로 초기화하고 배열 f의 모든 요소에 일일이 0을 대입하지 않아도 됨
  - 도수 정렬 알고리즘은 데이터를 비교, 교환하는 작업이 필요없어 매우 빠름
    - 다중 for문이 아닌 단순 for문만을 사용하고 재귀 호출과 2중 for문이 없으므로 매우 효율적인 알고리즘
    - 하지만 도수 분포표가 필요하기 때문에 데이터의 최솟값과 최댓값을 미리 알고 있을 경우에만 사용할 수 있음
  - 각 단계(for 문)에서 배열 요소를 건너뛰지 않고 순서대로 스캔하기 때문에 같은 값의 순서가 바뀌는 일이 없으므로 이 정렬 알고리즘은 매우 안정적이라고 할 수 있다.
    - 다만 3단계(목표 배열 만들기)에서 배열 a를 스캔할 때 마지막부터 하지 않고 처음부터 하면 원해 배열 (a)에서 중복된 값의 순서가 바뀌게 되어 안정적이지 않다.

<br>

---

<br>

정리한 내용에 대한 저작권은 "[do it! 자료구조와 함께 배우는 알고리즘 입문 자바편 개정](https://www.aladin.co.kr/search/wsearchresult.aspx?SearchTarget=All&SearchWord=Do+it%21+%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80+%ED%95%A8%EA%BB%98+%EB%B0%B0%EC%9A%B0%EB%8A%94+%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98+%EC%9E%85%EB%AC%B8+%3A+%EC%9E%90%EB%B0%94+%ED%8E%B8)"에 있습니다.